import de.huxhorn.sulky.ulid.ULID;

import java.util.UUID;

public class ULIDUtil {

    private static final ULID ulid = new ULID();
    private static final int PREFIX_LENGTH = 6;

    public static synchronized String generateUlid() {
        String ulidPart = ulid.nextULID();
        String instancePrefix = getInstancePrefix();
        return (instancePrefix + ulidPart).substring(0, 32); // Ensure the final length is 32 characters
    }

    private static String getInstancePrefix() {
        return UUID.randomUUID().toString().replaceAll("-", "").substring(0, PREFIX_LENGTH);
    }

    public static void main(String[] args) {
        for (int i = 0; i < 10; i++) {
            String ulid = generateUlid();
            System.out.println("Generated ULID: " + ulid + " (length: " + ulid.length() + ")");
        }
    }
}